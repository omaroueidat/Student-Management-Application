@model StudentRequest

@{
    ViewBag.Title = "Create New Student";
    ViewBag.Addresses = new List<dynamic>();
    var RegionItems = new Syncfusion.EJ2.DropDowns.DropDownList() 
    { 
        DataSource = ViewBag.Regions, // Data of Select List
        Fields = new Syncfusion.EJ2.DropDowns.DropDownListFieldSettings() { Value = "RegionId", Text = "RegionName" },

    };
}

@*
    var DropDownList = new Syncfusion.EJ2.DropDowns.DropDownList() { DataSource = ViewBag.Regions, Query = "new ej.data.Query()", AllowFiltering = true, Fields = new Syncfusion.EJ2.DropDowns.DropDownListFieldSettings() { Value = "Region", Text = "Select Region" }, ActionComplete = "actionComplete" };
*@

<div class="center-box">
 <form asp-controller="Student" asp-action="Create" method="post">

  @*StudentName*@
  <div class="form-field flex">
    <div class="w-25">
        <label asp-for="StudentName" class="form-label pt">Student Name</label>
    </div>
    <div class="flex-1">
        <input asp-for="StudentName" class="form-input" />
        <span asp-validation-for="StudentName" class="text-red"></span>
    </div>
  </div>

  <br />

  @*StudentDateOfBirth*@
  <div class="form-field flex">
    <div class="w-25">
        <label asp-for="DateOfBirth" class="form-label pt">Date of Birth</label>
    </div>
    <div class="flex-1">
        <input asp-for="DateOfBirth" class="form-input" value="@DateTime.Now.ToString("yyyy-MM-dd")"/>
        <span asp-validation-for="DateOfBirth" class="text-red"></span>
    </div>
  </div>

  <br />

  @*gender*@
  <div class="form-field flex">
    <div class="w-25">
        <label class="form-label">Gender</label>
    </div>
    <div class="flex-1">
        @{
            string[] genders = (string[])Enum.GetNames(typeof(Gender));
        }
        @foreach (string gender in genders)
        {
            <input type="radio" asp-for="gender" value="@gender" />
            <label for="@gender">@gender</label>
        }
        <span asp-validation-for="gender" class="text-red"></span>
    </div>
  </div>

  <br />

  @*Addresses*@
        <ejs-grid id="Grid1" dataSource="ViewBag.Addresses" allowResizing="true" autoFit="true" toolbar="@(new List<string>() { "Add", "Edit", "Delete", "Cancel", "Update" })">
        <e-grid-editSettings allowAdding="true" allowDeleting="true" allowEditing="true"></e-grid-editSettings>
        <e-grid-columns>
            <e-grid-column field="AddressValue" headerText="Address" textAlign="Center" minwidth="100" maxwidth="130"></e-grid-column>
            <e-grid-column field="isPrimary" headerText="Primary" textAlign="Center" minwidth="100" maxwidth="130"></e-grid-column>

           <e-grid-column field="Region" edittype="dropdownedit" edit="new {@params = RegionItems }" headerText="Region" textAlign="Center" minwidth="100" maxwidth="130">
               
           </e-grid-column>

            <e-grid-column field="CodeValue" headerText="Address Type"  textAlign="Center" minwidth="100" maxwidth="130"></e-grid-column>
        </e-grid-columns>
    </ejs-grid>


 </form>
</div>

<script>
    // Initialize the first grid
    var grid1 = document.getElementById("Grid1").ej2_instances[0];

    
</script>
